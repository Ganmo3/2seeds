<article class="profile-card">
  <div class="profile-card__image">
    <%= user_icon_or_youtube(user, size: "100x100", class: "img-fluid rounded-circle") %>
  </div>
    
  <div class="profile-card__information">
    <div class="profile-card__data profile-card__data--name">
      <h5>名前</h5>
      <%= user.nickname %>
    </div>
    <div class="profile-card__data profile-card__data--introduction">
      <h5>紹介</h5>
      <% if user.introduction.present? %>
        <%= user.introduction %>
      <% else %>
        自己紹介はまだありません。
      <% end %>
    </div>
  </div>
  
  <div class="profile-card__relation-wrapper">
    <div class="profile-card__relation profile-card__relation--follows">
      <h5>フォロー</h5>
      <%= user.followings.count %>
    </div>
    <div class="profile-card__relation profile-card__relation--followers">
      <h5>フォロアー</h5>
      <%= user.followers.count %>
    </div>
  </div>
  
  <% if user_signed_in? || admin_signed_in? %>
    <div class="profile-card__button-wrapper">
      <% if current_user != user %>
        <% if current_user.following?(user) %>
          <%= link_to 'フォロー外す', unfollow_user_path(@user.account), method: :delete, class: "profile-card__button profile-card__button--followed btn" %>
        <% else %>
          <%= link_to 'フォローする', follow_user_path(@user.account), method: :post, class: "profile-card__button profile-card__button--follow btn" %>
        <% end %>
       <%# <% if user_signed_in? && user != current_user %>
       <%#   <% if current_user.reporter.exists?(reported_id: user.id) %>
          <%#  <%= button_tag "通報済み", disabled: true, class: "profile-card__button profile-card__button--reported btn" %>
        <%#  <% else %>
           <%# <%= link_to "ユーザーを通報", profile_reports_new_users_path(user), class: "profile-card__button profile-card__button--report btn" %>
        <%#  <% end %>
        <%#<% end %>
      <% end %>
    </div>
  <% end %>
</article>
